# –§–ª–æ—É: –û—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—å —É–∫–∞–∑—ã–≤–∞–µ—Ç –ü–æ–ª—É—á–∞—Ç–µ–ª—è –ø–ª–∞—Ç–µ–ª—å—â–∏–∫–æ–º

## –û–ø–∏—Å–∞–Ω–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏—è
–ö–æ–≥–¥–∞ –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—å —Å–æ–∑–¥–∞–µ—Ç –∑–∞–∫–∞–∑ –∏ –≤—ã–±–∏—Ä–∞–µ—Ç "–ü–æ–ª—É—á–∞—Ç–µ–ª—å –æ–ø–ª–∞—Ç–∏—Ç –ø–æ —Å—Å—ã–ª–∫–µ", —Å–∏—Å—Ç–µ–º–∞ —Å–æ–∑–¥–∞–µ—Ç —á–µ—Ä–Ω–æ–≤–∏–∫ –∑–∞–∫–∞–∑–∞ –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø–æ–ª—É—á–∞—Ç–µ–ª—é –¥–ª—è –≤—ã–±–æ—Ä–∞ –∏ –æ–ø–ª–∞—Ç—ã –¥–æ—Å—Ç–∞–≤–∫–∏.

## –ü–æ—à–∞–≥–æ–≤—ã–π –ø—Ä–æ—Ü–µ—Å—Å

### 1. –í—ã–±–æ—Ä —Ä–æ–ª–∏ –∏ –Ω–∞—á–∞–ª–æ
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç —Ä–æ–ª—å **"–û—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—å"**
- –ó–∞–ø–æ–ª–Ω—è–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ—Å—ã–ª–∫–µ (—Ñ–æ—Ç–æ, —Ä–∞–∑–º–µ—Ä—ã, –≤–µ—Å)
- –£–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–µ–ª–µ—Ñ–æ–Ω –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è –¥–ª—è –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏

### 2. –®–∞–≥ –æ–ø–ª–∞—Ç—ã
- –ù–∞ —à–∞–≥–µ "–ö—Ç–æ –æ–ø–ª–∞—Ç–∏—Ç –¥–æ—Å—Ç–∞–≤–∫—É?" –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç **"–ü–æ–ª—É—á–∞—Ç–µ–ª—å –æ–ø–ª–∞—Ç–∏—Ç –ø–æ —Å—Å—ã–ª–∫–µ"**
- `paymentPayer` —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –≤ `'recipient'`

### 3. –õ–æ–≥–∏–∫–∞ –ø–æ—Å–ª–µ –≤—ã–±–æ—Ä–∞ –ø–æ–ª—É—á–∞—Ç–µ–ª—è –ø–ª–∞—Ç–µ–ª—å—â–∏–∫–æ–º

#### –í `handlePaymentContinue()`:
```javascript
if (paymentPayer === 'recipient') {
  // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ñ–ª–∞–≥ inviteRecipient
  if (inviteRecipient) {
    // –ï—Å–ª–∏ —É–∂–µ –ø—Ä–∏–≥–ª–∞—à–∞–ª–∏ –ø–æ–ª—É—á–∞—Ç–µ–ª—è - –ø–µ—Ä–µ—Ö–æ–¥–∏–º –∫ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—é
    navigate('/wizard?step=orderComplete')
  } else {
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω—É–∂–µ–Ω –ª–∏ –ü–í–ó
    const needsPvz = selectedOffer && needsPvzSelection(selectedOffer, filterCourierDelivery)
    if (needsPvz) {
      navigate('/wizard?step=selectPvz') // –í—ã–±–æ—Ä –ø—É–Ω–∫—Ç–∞ –≤—ã–¥–∞—á–∏
    } else {
      navigate('/wizard?step=orderComplete') // –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ
    }
  }
}
```

### 4. –°–æ–∑–¥–∞–Ω–∏–µ —á–µ—Ä–Ω–æ–≤–∏–∫–∞ –∑–∞–∫–∞–∑–∞
- –°–∏—Å—Ç–µ–º–∞ —Å–æ–∑–¥–∞–µ—Ç —á–µ—Ä–Ω–æ–≤–∏–∫ –∑–∞–∫–∞–∑–∞ —Å–æ –≤—Å–µ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π
- `paymentPayer: 'recipient'` —É–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ –æ–ø–ª–∞—Ç–∏—Ç –ø–æ–ª—É—á–∞—Ç–µ–ª—å
- –ó–∞–∫–∞–∑ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º "–æ–∂–∏–¥–∞–µ—Ç –æ–ø–ª–∞—Ç—ã –ø–æ–ª—É—á–∞—Ç–µ–ª–µ–º"

### 5. –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø–æ–ª—É—á–∞—Ç–µ–ª—è
- –ü–æ–ª—É—á–∞—Ç–µ–ª—é –ø—Ä–∏—Ö–æ–¥–∏—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ —Å —Å—Å—ã–ª–∫–æ–π –Ω–∞ –≤—ã–±–æ—Ä –¥–æ—Å—Ç–∞–≤–∫–∏
- –°—Å—ã–ª–∫–∞ –≤–µ–¥–µ—Ç –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É `/offers` —Å –¥–∞–Ω–Ω—ã–º–∏ –∑–∞–∫–∞–∑–∞
- –ü–æ–ª—É—á–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –≤—ã–±—Ä–∞—Ç—å –¢–ö, —Ç–∞—Ä–∏—Ñ –∏ –æ–ø–ª–∞—Ç–∏—Ç—å –¥–æ—Å—Ç–∞–≤–∫—É

### 6. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è
- –û—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—å –≤–∏–¥–∏—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É **"–ì–æ—Ç–æ–≤–æ üëç –û—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ–∑–¥–∞–Ω–æ"**
- –¢–µ–∫—Å—Ç: *"–ü–æ–ª—É—á–∞—Ç–µ–ª—å –≤—ã–±–µ—Ä–µ—Ç –∏ –æ–ø–ª–∞—Ç–∏—Ç –¥–æ—Å—Ç–∞–≤–∫—É. –ú—ã —Å–æ–æ–±—â–∏–º –í–∞–º, –∫–æ–≥–¥–∞ –Ω–∞–∑–Ω–∞—á–∏–º –∫—É—Ä—å–µ—Ä–∞."*
- –ö–Ω–æ–ø–∫–∞ **"–ü–æ–Ω—è—Ç–Ω–æ"** –≤–µ–¥–µ—Ç –≤ –ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç

## –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ñ–ª–æ—É

### InviteRecipient —Ñ–ª–∞–≥
- `inviteRecipient: true` –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –ø–æ–ª—É—á–∞—Ç–µ–ª—å —É–∂–µ –±—ã–ª —É–≤–µ–¥–æ–º–ª–µ–Ω
- –í–ª–∏—è–µ—Ç –Ω–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏—é –∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —à–∞–≥–æ–≤

### –í—ã–±–æ—Ä –ü–í–ó
- –ï—Å–ª–∏ –≤—ã–±—Ä–∞–Ω CDEK –∏ —Ç–∞—Ä–∏—Ñ —Ç—Ä–µ–±—É–µ—Ç –ü–í–ó - –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç –ø—É–Ω–∫—Ç –≤—ã–¥–∞—á–∏
- –≠—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –Ω–∞ —à–∞–≥–µ `selectPvz` –ø–µ—Ä–µ–¥ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ–º

### –ü—Ä–æ–ø—É—Å–∫–∞–µ–º—ã–µ —à–∞–≥–∏
–ü—Ä–∏ `paymentPayer === 'recipient'` –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—å –ù–ï –∑–∞–ø–æ–ª–Ω—è–µ—Ç:
- –ê–¥—Ä–µ—Å –ø–æ–ª—É—á–∞—Ç–µ–ª—è
- Email –ø–æ–ª—É—á–∞—Ç–µ–ª—è  
- –î–∞–Ω–Ω—ã–µ –¥–ª—è –æ–ø–ª–∞—Ç—ã

## –î–∞–Ω–Ω—ã–µ, –ø–µ—Ä–µ–¥–∞–≤–∞–µ–º—ã–µ –≤ –∑–∞–∫–∞–∑

```javascript
const wizardData = {
  fromCity,
  toCity,
  senderAddress,      // –ê–¥—Ä–µ—Å –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è
  recipientPhone,    // –¢–µ–ª–µ—Ñ–æ–Ω –ø–æ–ª—É—á–∞—Ç–µ–ª—è
  contactPhone,      // –¢–µ–ª–µ—Ñ–æ–Ω –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è
  weight, length, width, height,
  packageOption,
  selectedSize,
  estimatedValue,
  paymentPayer: 'recipient', // –ö–ª—é—á–µ–≤–æ–π —Ñ–ª–∞–≥
  selectedRole: 'sender',
  photoUrl,
  // ... –¥—Ä—É–≥–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
}
```

## –†–∞–∑–Ω–∏—Ü–∞ –æ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ —Ñ–ª–æ—É

### –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —Ñ–ª–æ—É (–æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—å –ø–ª–∞—Ç–∏—Ç):
1. –û—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—å ‚Üí –í—ã–±–æ—Ä –¢–ö ‚Üí –ê–¥—Ä–µ—Å –ø–æ–ª—É—á–∞—Ç–µ–ª—è ‚Üí –û–ø–ª–∞—Ç–∞ ‚Üí –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ

### –§–ª–æ—É "–ü–æ–ª—É—á–∞—Ç–µ–ª—å –ø–ª–∞—Ç–µ–ª—å—â–∏–∫":
1. –û—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—å ‚Üí –í—ã–±–æ—Ä –ø–æ–ª—É—á–∞—Ç–µ–ª—è –ø–ª–∞—Ç–µ–ª—å—â–∏–∫–æ–º ‚Üí (–≤–æ–∑–º–æ–∂–Ω–æ –≤—ã–±–æ—Ä –ü–í–ó) ‚Üí –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ
2. –ü–æ–ª—É—á–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç —Å—Å—ã–ª–∫—É ‚Üí –í—ã–±–æ—Ä –¢–ö ‚Üí –û–ø–ª–∞—Ç–∞ ‚Üí –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —ç—Ç–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞

1. **–£–¥–æ–±—Å—Ç–≤–æ –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è** - –Ω–µ –Ω—É–∂–Ω–æ –∑–Ω–∞—Ç—å –∞–¥—Ä–µ—Å –ø–æ–ª—É—á–∞—Ç–µ–ª—è
2. **–ì–∏–±–∫–æ—Å—Ç—å –¥–ª—è –ø–æ–ª—É—á–∞—Ç–µ–ª—è** - —Å–∞–º –≤—ã–±–∏—Ä–∞–µ—Ç —É–¥–æ–±–Ω—É—é –¢–ö –∏ –≤—Ä–µ–º—è
3. **–¢—Ä–∞–Ω—Å–ø–∞—Ä–µ–Ω—Ç–Ω–æ—Å—Ç—å** - –ø–æ–ª—É—á–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç –≤—Å–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –∏ —Ü–µ–Ω—ã
4. **–°–Ω–∏–∂–µ–Ω–∏–µ –æ—à–∏–±–æ–∫** - –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—å –Ω–µ –æ—à–∏–±–µ—Ç—Å—è —Å –∞–¥—Ä–µ—Å–æ–º

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

### –ö–ª—é—á–µ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:
- `PaymentStep.jsx` - –≤—ã–±–æ—Ä –ø–ª–∞—Ç–µ–ª—å—â–∏–∫–∞
- `handlePaymentContinue()` - –ª–æ–≥–∏–∫–∞ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤
- `OrderCompleteStep.jsx` - —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è
- `needsPvzSelection()` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ü–í–ó

### –°–æ—Å—Ç–æ—è–Ω–∏—è:
- `paymentPayer: 'recipient'` - –ø–æ–ª—É—á–∞—Ç–µ–ª—å –ø–ª–∞—Ç–∏—Ç
- `inviteRecipient: true/false` - —Ñ–ª–∞–≥ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- `selectedOffer` - –≤—ã–±—Ä–∞–Ω–Ω–∞—è –¢–ö –∏ —Ç–∞—Ä–∏—Ñ
